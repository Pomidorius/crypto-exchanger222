# üöÄ Crypto Exchanger - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

## üìã –û –ø—Ä–æ–µ–∫—Ç–µ

–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –±–∏—Ä–∂–∞ –¥–ª—è –æ–±–º–µ–Ω–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –Ω–∞ Ethereum —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
- –û–±–º–µ–Ω ETH ‚Üî ERC20 —Ç–æ–∫–µ–Ω–æ–≤
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ MetaMask —á–µ—Ä–µ–∑ RainbowKit
- –†–∞–±–æ—Ç–∞ —Å mainnet –∏ localhost
- –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∏—Å—Å–∏–π 0.1%
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–º–∏—Å—Å–∏—è–º–∏

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Frontend:** Next.js 14, React 18, TypeScript
- **Web3:** wagmi, RainbowKit, ethers.js
- **Blockchain:** Hardhat, Solidity
- **–°—Ç–∏–ª–∏:** –ö–∞—Å—Ç–æ–º–Ω—ã–π CSS (–±–µ–∑ Tailwind)

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.local` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ:

**–î–ª—è localhost:**
```bash
NEXT_PUBLIC_RPC_URL=http://127.0.0.1:8545
NEXT_PUBLIC_CHAIN_ID=31337
DEPLOYER_PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
```

**–î–ª—è mainnet:**
```bash
NEXT_PUBLIC_RPC_URL=https://mainnet.infura.io/v3/YOUR_INFURA_KEY
NEXT_PUBLIC_CHAIN_ID=1
DEPLOYER_PRIVATE_KEY=0xYOUR_REAL_PRIVATE_KEY_WITH_ETH
```

### 3. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –ó–∞–ø—É—Å–∫ Hardhat —É–∑–ª–∞ + Next.js –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
npm run dev:full

# –ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
npm run node    # Hardhat —É–∑–µ–ª (—Ç–µ—Ä–º–∏–Ω–∞–ª 1)
npm run dev     # Next.js (—Ç–µ—Ä–º–∏–Ω–∞–ª 2)
```

### 4. –î–µ–ø–ª–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

**Localhost:**
```bash
npm run deploy:improved     # –£–ª—É—á—à–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ–º–∏—Å—Å–∏—è–º–∏
npm run deploy:simple       # –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç
```

**Mainnet:**
```bash
npm run mainnet:deploy-improved  # –î–µ–ø–ª–æ–π + –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ contracts/              # Solidity –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ SimpleProxySwap.sol     # –ë–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç
‚îÇ   ‚îî‚îÄ‚îÄ ImprovedProxySwap.sol   # –£–ª—É—á—à–µ–Ω–Ω—ã–π —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ–º–∏—Å—Å–∏—è–º–∏
‚îú‚îÄ‚îÄ scripts/                # –°–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è
‚îÇ   ‚îú‚îÄ‚îÄ deploy-improved.js      # –î–µ–ø–ª–æ–π —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ deploy-mainnet.js       # –î–µ–ø–ª–æ–π –≤ mainnet
‚îÇ   ‚îî‚îÄ‚îÄ update-contract-address.js  # –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞
‚îú‚îÄ‚îÄ src/app/                # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ components/             # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ImprovedSwapForm.tsx    # –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ –æ–±–º–µ–Ω–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Providers.tsx           # Web3 –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ utils/                  # –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ constants.ts            # –ê–¥—Ä–µ—Å–∞ —Ç–æ–∫–µ–Ω–æ–≤ –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ uniswap.ts             # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Uniswap
‚îÇ   ‚îî‚îÄ‚îÄ globals.css             # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ .env.local              # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ hardhat.config.js       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Hardhat
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ImprovedSwapForm.tsx
- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –æ–±–º–µ–Ω–∞ —Ç–æ–∫–µ–Ω–æ–≤
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ—à–µ–ª—å–∫—É
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±–º–µ–Ω–æ–≤

### Providers.tsx
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ wagmi –∏ RainbowKit
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É localhost/mainnet
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–µ—Ç–∏

### constants.ts
- –ê–¥—Ä–µ—Å–∞ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è mainnet
- –ê–¥—Ä–µ—Å ProxySwap –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- Uniswap Router –∞–¥—Ä–µ—Å–∞

## üí∞ –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∏—Å—Å–∏–π

### –†–∞–∑–º–µ—Ä –∫–æ–º–∏—Å—Å–∏–∏: 0.1%
- –£–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å –∫–∞–∂–¥–æ–≥–æ –æ–±–º–µ–Ω–∞
- –ù–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ (ImprovedProxySwap)
- –í–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∏—Å—Å–∏—è–º–∏:
```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ ETH –∫–æ–º–∏—Å—Å–∏–∏
const ethFees = await contract.getAccumulatedFees("0x0000000000000000000000000000000000000000");

// –í—ã–≤–µ—Å—Ç–∏ ETH –∫–æ–º–∏—Å—Å–∏–∏
await contract.withdrawAllETHFees("YOUR_ADDRESS");

// –í—ã–≤–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω –∫–æ–º–∏—Å—Å–∏–∏
await contract.withdrawFees("TOKEN_ADDRESS", "YOUR_ADDRESS");
```

## üåê –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–æ–∫–µ–Ω—ã

**Mainnet:**
- ETH (–Ω–∞—Ç–∏–≤–Ω—ã–π)
- WETH: 0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2
- USDC: 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48
- USDT: 0xdAC17F958D2ee523a2206206994597C13D831ec7

**Uniswap Addresses:**
- V2 Router: 0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D
- V3 Router: 0xE592427A0AEce92De3Edee1F18E0157C05861564
- V3 Quoter: 0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- `npm run dev` - –ó–∞–ø—É—Å–∫ Next.js
- `npm run build` - –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `npm run node` - –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Hardhat —É–∑–ª–∞

### –î–µ–ø–ª–æ–π
- `npm run deploy:simple` - –î–µ–ø–ª–æ–π –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (localhost)
- `npm run deploy:improved` - –î–µ–ø–ª–æ–π —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (localhost)
- `npm run deploy:mainnet` - –î–µ–ø–ª–æ–π –≤ mainnet
- `npm run deploy:improved-mainnet` - –î–µ–ø–ª–æ–π —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –≤ mainnet

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
- `npm run dev:full` - Hardhat + Next.js –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- `npm run mainnet:deploy` - –î–µ–ø–ª–æ–π + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞
- `npm run mainnet:deploy-improved` - –£–ª—É—á—à–µ–Ω–Ω—ã–π –¥–µ–ø–ª–æ–π + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –£—Ç–∏–ª–∏—Ç—ã
- `npm run update:address` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤ –∫–æ–¥–µ
- `npm run check:balances` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–æ–≤

## ‚ö†Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ùó –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:
- **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏
- **–í–°–ï–ì–î–ê** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ—à–µ–ª–µ–∫ –¥–ª—è –¥–µ–ø–ª–æ—è
- **–¢–ï–°–¢–ò–†–û–í–ê–¢–¨** –Ω–∞ –Ω–µ–±–æ–ª—å—à–∏—Ö —Å—É–º–º–∞—Ö
- **–ü–†–û–í–ï–†–Ø–¢–¨** –∞–¥—Ä–µ—Å–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∏ —Ç–æ–∫–µ–Ω–æ–≤

### üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- `.env.local` –¥–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –î–ª—è mainnet —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π .env —Ñ–∞–π–ª

## üöÄ –î–µ–ø–ª–æ–π –≤ production

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ—à–µ–ª—å–∫–∞
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ—à–µ–ª–µ–∫
- –ü–æ–ø–æ–ª–Ω–∏—Ç—å ETH (–º–∏–Ω–∏–º—É–º 0.1 ETH)
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env.local
```bash
NEXT_PUBLIC_RPC_URL=https://mainnet.infura.io/v3/YOUR_KEY
NEXT_PUBLIC_CHAIN_ID=1
DEPLOYER_PRIVATE_KEY=0xYOUR_REAL_KEY
```

### 3. –î–µ–ø–ª–æ–π
```bash
npm run mainnet:deploy-improved
```

### 4. –ü—Ä–æ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å ETH –¥–ª—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `README.md` - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `FEE_MANAGEMENT.md` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∏—Å—Å–∏—è–º–∏
- `MAINNET_DEPLOY.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é
- `FINAL_STEPS.md` - –§–∏–Ω–∞–ª—å–Ω—ã–µ —à–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å RPC URL
- –£–±–µ–¥–∏—Ç—å—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ CHAIN_ID
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å ETH –¥–ª—è –≥–∞–∑–∞

### –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:
- –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à: —É–¥–∞–ª–∏—Ç—å `.next` –ø–∞–ø–∫—É
- –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `rm -rf node_modules && npm install`

### –ü—Ä–æ–±–ª–µ–º—ã —Å MetaMask:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–µ—Ç–∏
- –°–±—Ä–æ—Å–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ MetaMask –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –ø—Ä–æ–µ–∫—Ç–µ
2. –ò–∑—É—á–∏—Ç—å –∫–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ localhost –ø–µ—Ä–µ–¥ mainnet

**–£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!** üöÄ
